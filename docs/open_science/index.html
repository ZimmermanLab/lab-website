<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Zimmerman Lab - Open Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../join.html" rel="next">
<link href="../teaching/index.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../open_science/index.html">Open Science</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../files/zlab_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../people/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">People</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../projects/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Projects</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../teaching/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../open_science/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Open Science</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../join.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Join the Lab</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-do-we-mean-by-open-science" id="toc-what-do-we-mean-by-open-science" class="nav-link active" data-scroll-target="#what-do-we-mean-by-open-science">What Do We Mean By Open Science?</a>
  <ul class="collapse">
  <li><a href="#data-and-code-availability" id="toc-data-and-code-availability" class="nav-link" data-scroll-target="#data-and-code-availability">Data and Code Availability</a></li>
  <li><a href="#computational-reproducibility" id="toc-computational-reproducibility" class="nav-link" data-scroll-target="#computational-reproducibility">Computational Reproducibility</a></li>
  <li><a href="#preprints" id="toc-preprints" class="nav-link" data-scroll-target="#preprints">Preprints</a></li>
  <li><a href="#open-access-publishing" id="toc-open-access-publishing" class="nav-link" data-scroll-target="#open-access-publishing">Open Access Publishing</a></li>
  <li><a href="#international-connections" id="toc-international-connections" class="nav-link" data-scroll-target="#international-connections">International Connections</a></li>
  <li><a href="#social-equity-and-inclusion" id="toc-social-equity-and-inclusion" class="nav-link" data-scroll-target="#social-equity-and-inclusion">Social Equity and Inclusion</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Open Science</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="what-do-we-mean-by-open-science" class="level2">
<h2 class="anchored" data-anchor-id="what-do-we-mean-by-open-science">What Do We Mean By Open Science?</h2>
<p>While there are <a href="https://www.cos.io/about/mission">numerous</a> <a href="https://www.unesco.org/en/open-science">definitions</a> of <a href="https://en.wikipedia.org/wiki/Open_science">Open Science</a>, many folks tend to emphasize the importance of open computational research practices and open access publishing. I like to remind myself that open science is and should be broader than that. Open science at its best is science that is not only transparent, reproducible, and freely available, but it is also science that is inclusive and open to other views. Below I’ve given some description of these various aspects of Open Science and places in my career where I’ve intersected with them.</p>
<p><strong>In this lab, we aim to practice open science in its broadest sense to the best of our ability.</strong></p>
<section id="data-and-code-availability" class="level3">
<h3 class="anchored" data-anchor-id="data-and-code-availability">Data and Code Availability</h3>
<p>For most research in the STEM disciplines, there has been a big push to train scientists to use reproducible approaches to managing their data <span class="citation" data-cites="hart2016a">(<a href="#ref-hart2016a" role="doc-biblioref">Hart et al. 2016</a>)</span> and analyses <span class="citation" data-cites="hampton2015">(<a href="#ref-hampton2015" role="doc-biblioref">Hampton et al. 2015</a>)</span>. Part of this is ensuring, as many journals now require, that the data and code used to generate the analyses in a published article are made available freely with the manuscript or in a public archival repository.</p>
</section>
<section id="computational-reproducibility" class="level3">
<h3 class="anchored" data-anchor-id="computational-reproducibility">Computational Reproducibility</h3>
<p>Even if all code and data are freely available, being able to take the publicly available code and data and use them to re-run the analyses the authors conducted is often quite challenging. This is because the computational environment required to run the code may be quite specific to the individual scientist’s machine and not fully documented. To help mitigate this, analysis code can be made reusable and publicly available as a software package <span class="citation" data-cites="atkins2018">(e.g.&nbsp;an R package I helped write for analysis of terrestrial LiDAR data, <a href="#ref-atkins2018" role="doc-biblioref">Atkins et al. 2018</a>)</span>.</p>
<p>Another important approach is having the pipeline or order of code execution well-documented or even better, automated. In all of my undergraduate courses at USF, I <a href="../teaching/index.html#computational-training">introduce students</a> to the use of <a href="https://www.r-project.org/">R</a> and <a href="https://rmarkdown.rstudio.com/">Rmarkdown</a> to generate reproducible reports for their projects in class. For my graduate and undergraduate Bioinformatics courses, we go a step futher and learn the use of the program <code>make</code> for automating complex computational workflows in an efficient manner.</p>
<p>Here’s an example of these approaches in practice. <a href="../people/ug/emma_gibson">Emma Gibson</a> was an honors undergraduate student in my lab at USF. She completed an honors thesis looking at communities of foliar endophytes in leaves of one of the most common street trees in San Francisco, <em>Metrosideros excelsa</em>. She conducted her analyses and wrote her thesis using R and Rmarkdown, and when we were ready to submit it for publication, we added the required computational environments to reproduce all analyses using <a href="https://www.docker.com/">Docker</a> and <a href="https://rstudio.github.io/renv/articles/renv.html">renv</a>. This project is <a href="https://github.com/ZimmermanLab/SF-metrosideros-endophytes">available as a public repository</a> on the Lab GitHub organization.</p>
</section>
<section id="preprints" class="level3">
<h3 class="anchored" data-anchor-id="preprints">Preprints</h3>
<p>Preprints are completed scientific manuscripts that are publicly posted and assigned a permanent Digital Object Identifier (DOI) through preprint archive servers like <a href="https://www.biorxiv.org">bioRxiv</a> or <a href="https://ecoevorxiv.org">EcoEvoRxiv</a>. These have become much more popular in recent years, because they enable formal scientific exchanges and communication to happen much more rapidly than the months to years that it takes for a manuscript to work its way through peer review. Generally scientists will submit their complete manuscript both to a preprint server and to a journal for formal peer review at the same time, and then once the peer-reviewed article is accepted, the preprint is updated to reflect this fact. As preprints are freely available, posting them also helps advance the next goal, which is free and open access to research articles.</p>
</section>
<section id="open-access-publishing" class="level3">
<h3 class="anchored" data-anchor-id="open-access-publishing">Open Access Publishing</h3>
<p>Open access publishing (at its core) is the idea that journal articles should not be locked behind paywalls. As much of the research in the United States (and elsewhere) is publicly funded, it doesn’t seem right to have the results of this work locked up and unavailable to most of the public (and even to many scientists who don’t have the means to afford access). This has become a key issue in the European Union <a href="https://www.science.org/content/article/white-house-requires-immediate-public-access-all-u-s--funded-research-papers-2025">and the US</a> in the last several years, and soon I imagine this will become the status quo.</p>
<p>Open access publishing discussions also often involve a discussion of more open peer review. While it varies between disciplines, peer review in many journals is what is called ‘single blind’, which means that the reviewers know the identity of the author(s), but the author(s) doesn’t know the identities of the reviewers. This opacity can be both good and bad — it could protect more junior scientists from retaliation if they submit a negative review, but it also clearly results in a number of power imbalances that may not lead to optimal outcomes (such as reviewers writing overly critical reviews instead of offering constructive evaluation and feedback). When I was a graduate student, we worked with the editors of many of the journals published by the Ecological Society of America to think about ways that graduate students could become more involved in the review process and to build training programs that would help inculcate best practices at an early stage <span class="citation" data-cites="zimmerman2011a">(<a href="#ref-zimmerman2011a" role="doc-biblioref">Zimmerman, Salguero-Gomez, and Ramos 2011</a>)</span>.</p>
</section>
<section id="international-connections" class="level3">
<h3 class="anchored" data-anchor-id="international-connections">International Connections</h3>
<p>During the time when I was a graduate student and postdoc, I became quite involved with the Ecological Society of America <a href="https://www.esa.org/students/">Student Section</a>, eventually becoming chair of the section. One of the topics that repeatedly came up in discussions at that time was the lack of professional networks for students outside of countries with large professional societies in Ecology (e.g.&nbsp;the US and UK). With a team of other students and collaboration with the <a href="https://intecolonline.wordpress.com">International Association for Ecology (INTECOL)</a> we authored a number of articles articulating this problem and proposing some steps forward <span class="citation" data-cites="jorgensen2011 white2015a jorgensen2015">(<a href="#ref-jorgensen2011" role="doc-biblioref">Peter Sogaard Jørgensen et al. 2011</a>; <a href="#ref-white2015a" role="doc-biblioref">White et al. 2015</a>; <a href="#ref-jorgensen2015" role="doc-biblioref">Peter Søgaard Jørgensen et al. 2015</a>)</span>.</p>
</section>
<section id="social-equity-and-inclusion" class="level3">
<h3 class="anchored" data-anchor-id="social-equity-and-inclusion">Social Equity and Inclusion</h3>
<p>In the last several years, I have become involved with a collection of folks called the <a href="https://sueishaqlab.org/microbes-and-social-equity-working-group/">Microbes and Social Equity Working Group</a> <span class="citation" data-cites="ishaq2021">(<a href="#ref-ishaq2021" role="doc-biblioref">Ishaq et al. 2021</a>)</span>. Through this highly interdisciplinary group, I have helped to organize <a href="https://www.eventscribe.net/2021/ESA/fsPopup.asp?Mode=sessionInfo&amp;PresentationID=923573">several</a> <a href="https://www.eventscribe.net/2022/ESA/fsPopup.asp?PresentationID=1072285&amp;query=mallory+choudoi&amp;Mode=presInfo">sessions</a> at ESA meetings over the years; these sessions were focused on widening the focus of microbial research to include the broader social context of the research as well as its implications for human communities.</p>



</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-atkins2018" class="csl-entry" role="listitem">
Atkins, Jeff W., Gil Bohrer, Robert T. Fahey, Brady S. Hardiman, Timothy H. Morin, Atticus E. L. Stovall, Naupaka Zimmerman, and Christopher M. Gough. 2018. <span>“Quantifying Vegetation and Canopy Structural Complexity from Terrestrial Li DAR Data Using the Forestr r Package.”</span> Edited by Sarah Goslee. <em>Methods in Ecology and Evolution</em> 9 (10): 2057–66. <a href="https://doi.org/10.1111/2041-210x.13061">https://doi.org/10.1111/2041-210x.13061</a>.
</div>
<div id="ref-hampton2015" class="csl-entry" role="listitem">
Hampton, Stephanie E., Sean S. Anderson, Sarah C. Bagby, Corinna Gries, Xueying Han, Edmund M. Hart, Matthew B. Jones, et al. 2015. <span>“The Tao of Open Science for Ecology.”</span> <em>Ecosphere</em> 6 (7): art120. <a href="https://doi.org/10.1890/ES14-00402.1">https://doi.org/10.1890/ES14-00402.1</a>.
</div>
<div id="ref-hart2016a" class="csl-entry" role="listitem">
Hart, EM, P Barmby, D LeBauer, F Michonneau, S Mount, P Mulrooney, T Poisot, KH Woo, NB Zimmerman, and JW Hollister. 2016. <span>“Ten Simple Rules for Digital Data Storage.”</span> <em>PLoS Comput Biol</em> 12 (10): e1005097. <a href="https://doi.org/10.1371/journal.pcbi.1005097">https://doi.org/10.1371/journal.pcbi.1005097</a>.
</div>
<div id="ref-ishaq2021" class="csl-entry" role="listitem">
Ishaq, Suzanne L., Francisco J. Parada, Patricia G. Wolf, Carla Y. Bonilla, Megan A. Carney, Amber Benezra, Emily Wissel, et al. 2021. <span>“Introducing the Microbes and Social Equity Working Group: Considering the Microbial Components of Social, Environmental, and Health Justice.”</span> Edited by Jack A. Gilbert. <em>mSystems</em> 6 (4). <a href="https://doi.org/10.1128/msystems.00471-21">https://doi.org/10.1128/msystems.00471-21</a>.
</div>
<div id="ref-jorgensen2015" class="csl-entry" role="listitem">
Jørgensen, Peter Søgaard, Frederic Barraquand, Vincent Bonhomme, Timothy J. Curran, Ellen Cieraad, Thomas G. Ezard, Laureano A. Gherardi, et al. 2015. <span>“Connecting People and Ideas from Around the World: Global Innovation Platforms for Next-Generation Ecology and Beyond.”</span> <em>Ecosphere</em> 6 (4): 1–11. <a href="https://doi.org/10.1890/ES14-00198.1">https://doi.org/10.1890/ES14-00198.1</a>.
</div>
<div id="ref-jorgensen2011" class="csl-entry" role="listitem">
Jørgensen, Peter Sogaard, Vincent Bonhomme, Thomas HG Ezard, R Andrew Hayes, Timothee Poisot, Roberto Salguero-Gomez, Salvatrice Vizzini, and Naupaka Zimmerman. 2011. <span>“A Global Network of Next Generation Ecologists.”</span> <em>INTECOL e-Bulletin</em> 5 (2): 3–5. <a href="https://www.researchgate.net/publication/228328646_A_global_network_of_next_generation_ecologists">https://www.researchgate.net/publication/228328646_A_global_network_of_next_generation_ecologists</a>.
</div>
<div id="ref-white2015a" class="csl-entry" role="listitem">
White, Rachel L, Alexandra E Sutton, Roberto Salguero-Gómez, Timothy C Bray, Heather Campbell, Ellen Cieraad, Nalaka Geekiyanage, et al. 2015. <span>“The Next Generation of Action Ecology: Novel Approaches Towards Global Ecological Research.”</span> <em>Ecosphere</em> 6 (8): art134. <a href="https://doi.org/10.1890">https://doi.org/10.1890</a>.
</div>
<div id="ref-zimmerman2011a" class="csl-entry" role="listitem">
Zimmerman, Naupaka B., Rob Salguero-Gomez, and Jorge Ramos. 2011. <span>“The Next Generation of Peer Reviewing.”</span> <em>Frontiers in Ecology and the Environment</em> 9: 199. <a href="https://doi.org/10.1890/1540-9295-9.4.199">https://doi.org/10.1890/1540-9295-9.4.199</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../teaching/index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Teaching</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../join.html" class="pagination-link">
        <span class="nav-page-text">Join the Lab</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left"><i class="fa-regular fa-copyright" aria-label="copyright"></i> 2023 Naupaka Zimmerman, <a href="https://creativecommons.org/licenses/by/4.0/"><i class="fa-brands fa-creative-commons-by" aria-label="creative-commons-by"></i> CC-BY 4.0</a></div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">This page is built with ️🌱🍄📊 and <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>